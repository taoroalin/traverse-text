<head>
  <script>
    // start loading data before scripts
    var setGraphFromJSON = () => { }; // index.js will replace this with real start function
    let roamJSON = null;
    let partnerLoaded = false; // call start after partner and scripts load.
    fetch("test-data/graphminer.json").then(response => {
      response.json().then(json => {
        roamJSON = json;
        if (partnerLoaded) setGraphFromJSON();
        partnerLoaded = true;
      })
    })
    let graphName = "graphminer"
    let database = null;
    let editingBlock = null;
    let oldestLoadedDailyNoteDate = null;
  </script>
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter">
</head>

<body class="light-mode">

  <template id="page">
    <div class="page">
      <h1 class="page__title" contenteditable="true" tabindex="-1"></h1>

      <div class="page__body">

      </div>
      <div class="page__backlinks">

      </div>
    </div>
  </template>

  <template id="block">
    <div class="block">
      <div class="block__bullet-hitbox" contenteditable="false">
        <div class="block__bullet"></div>
      </div>
      <div class="block__body" contenteditable="true" tabindex="-1">
      </div>
      <div class="block__children">

      </div>
    </div>
  </template>

  <template id="backrefs-list">
    <div class="backrefs-list">
      <div class="backrefs-list__title"><span class="bckrefs-list__count"></span>Linked References</div>

    </div>
  </template>

  <template id="block-focus-frame">
    <div class="block-focus-frame">
    </div>
  </template>

  <template id="page-ref">
    <span class="page-ref" spellcheck="false"><span class="page-ref__brackets">[[</span><span
        class="page-ref__body"></span><span class="page-ref__brackets">]]</span></span>
  </template>

  <template id="tag">
    <span class="tag"></span>
  </template>

  <template id="block-ref">
    <span class="block-ref"></span>
  </template>

  <template id="block-ref">
    <span class="block-ref"></span>
  </template>

  <template id="bold">
    <span class="bold"></span>
  </template>

  <template id="url">
    <a class="url" target="_blank" contenteditable="false"></a>
  </template>

  <div id="app">

    <div id="page-frame">

    </div>

    <div id="search" style="display:none">
      <input id="search__input" />
      <div id="search__options">

      </div>

    </div>

    <div id="top-buttons">
      <button id="search-button">
        Search
      </button>
      <button id="upload-button">
        <input style="display:none" type="file" id="upload-input">
        Upload JSON
      </button>
      <button id="save-button">
        Save
      </button>
      <a id="download-button">
        Download JSON
      </a>
    </div>
  </div>
  <script src="integrations.js"></script>
  <script src="utils.js"></script>
  <script src="parse.js"></script>
  <script src="datalog-js/datalog.js"></script>
  <script src="index.js"></script>
</body>